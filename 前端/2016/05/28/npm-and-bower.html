<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no" />
    <title>使用 npm 和 bower 发布插件</title>
    <link rel="shortcut icon" href="/assets/img/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="/assets/css/fonts.css?v=20160720" />
    <link rel="stylesheet" type="text/css" href="/assets/css/pygments.css?v=20160720">
    <link rel="stylesheet" type="text/css" href="/assets/css/index.css?v=20160720" />    
</head>
<body class="font-hei">
    <div id="logo">
    <a href="/">cobish.github.io</a>
</div>
    <div class="article">
    <h3 class="article-title">使用 npm 和 bower 发布插件</h3>
    <p class="article-time">2016-05-28， 浏览量：<span data-hk-page="current"> - </span> 次</p>
    <div class="article-desc article-content"><p>我在 Github 上看到过一些第三方插件，除了可以使用 git clone 之外，它们还可以使用 npm 或 bower 进行下载。于是我也尝试把自己编写的一个 jQuery 插件发布到 npm 和 bower，并且效果还不错。项目源码请看<a href="https://github.com/cobish/jquery.nail">「jquery.nail」</a>。</p>

<p>首先编写好的源码得先打上 tag 版本号，然后 push 到 Github 上。第一个步骤算是完成了。</p>

<p>先说 npm。npm 是 Nodejs 的包管理器，用过 gulp 的都知道很多 gulp 的插件都需要通过 npm 进行安装，现在也有许多其他的插件比如 jQuery 在 npm 上都搜得到。首先得安装 nodejs 和 npm，这里不细说了。然后得在 npm 的官网上注册一个账号，接着电脑上需添加 npm 账号，输入以下命令进行添加：</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>npm addUser
</code></pre></div>
<p>接着再输入一条命令就能把源码发布到 npm 上：</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>npm publish
</code></pre></div>
<p>搞定！很方便是吧，可以在 npm 官网上看能不能搜索到你刚刚发布的插件，或者是电脑上直接安装一下：</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>npm install jquery.nail --save-dev
</code></pre></div>
<p>npm 的发布已经结束。需要注意的是，如果你在大天朝使用的是淘宝镜像的话是无法发布的，它没有 addUser 这一条命令，这时需先暂时将 npm 淘宝镜像清除：</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>npm config delete registry
<span class="nv">$ </span>npm config delete disturl
</code></pre></div>
<p>publish 完成之后再将淘宝镜像添加回来即可：</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>npm config <span class="nb">set </span>registry https://registry.npm.taobao.org
<span class="nv">$ </span>npm config list
</code></pre></div>
<p>接着是 bower。bower 也是一个包管理器，bower 的安装参考这篇<a href="https://segmentfault.com/a/1190000002971135">「bower简明入门教程」</a>。bower 的发布需新建一个 bower.json 文件，内容的填写跟 package.json 很相似，接着注册项目即可：</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>bower register jquery.nail https://github.com/cobish/jquery.nail
</code></pre></div>
<p>bower register 后面的两个参数分别是项目名和 Github 的项目地址。注册完成如果没有相同的项目名就会发布成功，这时也可以尝试在本地上进行安装：</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>bower install jquery.nail --save-dev
</code></pre></div>
<p>安装完成，完美！到此发现，实际上 npm 和 bower 的发布都异常的简单，总共加起来才三条命令，赶紧试试吧。</p>
</div>
</div>
<div id="ds" class="article">
    <!-- 多说评论框 -->
    <div class="ds-thread" data-thread-key="_posts/2016-05-28-npm-and-bower.md" data-title="使用 npm 和 bower 发布插件" data-url="/%E5%89%8D%E7%AB%AF/2016/05/28/npm-and-bower.html"></div>
</div>

<!-- 浏览量 -->
<script src="https://cdn1.lncld.net/static/js/av-mini-0.6.10.js"></script>
<script src="http://jerry-cdn.b0.upaiyun.com/hit-kounter/hit-kounter-lc-0.2.0.js"></script>
<script type="text/javascript">
    var duoshuoQuery = {short_name:"cobish"};
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
</script>

    <script>
if (document.domain.indexOf('github.io') > -1) {
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?84602bc3713ca2aeb0258c55adf6a333";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
}
</script>

</body>
</html>
